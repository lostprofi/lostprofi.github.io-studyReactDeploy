(this["webpackJsonpwanderlast-react"]=this["webpackJsonpwanderlast-react"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo.6df572c6.svg"},function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),c=a.n(s),o=(a(15),a(1)),u=a(2),i=a(5),l=a(3),h=a(6),p=a(4),m=a(9),f=a.n(m),d=(a(16),a(17),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"SearchBar",onSubmit:this.props.onSubmit},r.a.createElement("h1",{className:"SearchBar__title"},"Where do you want to land?"),r.a.createElement("div",{className:"wrapper"},r.a.createElement("input",{className:"SearchBar__searchInput",type:"text",onChange:this.props.onChange}),r.a.createElement("input",{type:"submit",className:"SearchBar__searchSubmit",value:"Submit"})))}}]),t}(r.a.Component)),g=(a(18),new Date),b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"weather"},r.a.createElement("header",{className:"weather__header"},r.a.createElement("h1",{className:"weather__title"},this.props.searchResult.name,", ",this.props.searchResult.sys.country),r.a.createElement("h2",{className:"weather__subtitle"},"CURRENT WEATHER")),r.a.createElement("div",{className:"weather__search-result"},r.a.createElement("p",null,b[g.getDay()]),r.a.createElement("p",null,"Temperature: ",this.props.searchResult.main.temp," ","\xba","C"),r.a.createElement("p",null,"Temperature feels like: ",this.props.searchResult.main.feels_like," ","\xba","C"),r.a.createElement("p",null,"Condition: ",this.props.searchResult.weather[0].description," "),r.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(this.props.searchResult.weather[0].icon,"@2x.png"),alt:" "})))}}]),t}(r.a.Component),E=(a(19),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"venue__search-result"},r.a.createElement("h1",null,this.props.venueInfo.name),r.a.createElement("p",null,"\u0410\u0434\u0440\u0435\u0441\u0441: ",this.props.venueInfo.location.address),r.a.createElement("p",null,this.props.venueInfo.categories[0].name),r.a.createElement("img",{src:"".concat(this.props.venueInfo.categories[0].icon.prefix,"bg_32").concat(this.props.venueInfo.categories[0].icon.suffix),alt:this.props.venueInfo.categories[0].name}))}}]),t}(r.a.Component)),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={openWeatherAPIInfo:{openWeatherKey:"807e356de39b752f52630cbfa917d4cd",weatherURL:"https://api.openweathermap.org/data/2.5/weather"},foursquareAPIInfo:{foursquareUrl:"https://api.foursquare.com/v2/venues/explore",clientId:"SWARZUFB1ZITKU0MLL5V05HAVYIDBFV23IXB4XGOESGDNVYX",clientSecret:"X3J5TPVF0QEWD1YLPYND5TBPE4IHHVU1Z2DWWI0PG2A4ON3R"},openWeatherSearchResults:[],foursquareSearchResults:[],inputSearch:"",foursquareTitle:"foursquare__title"},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.getWeather=a.getWeather.bind(Object(h.a)(a)),a.getVenue=a.getVenue.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getWeather",value:function(){var e=this,t=this.state.inputSearch;fetch("".concat(this.state.openWeatherAPIInfo.weatherURL,"?&q=").concat(t,"&units=metric&APPID=").concat(this.state.openWeatherAPIInfo.openWeatherKey)).then((function(e){if(e.ok)return e.json();throw new Error("Request failed!")}),(function(e){return console.log(e.message)})).then((function(t){e.setState({openWeatherSearchResults:[t]}),console.log(e.state.openWeatherSearchResults[0])}),(function(e){console.log(e)}))}},{key:"getVenue",value:function(){var e=this,t=this.state.inputSearch;fetch("".concat(this.state.foursquareAPIInfo.foursquareUrl,"?client_id=").concat(this.state.foursquareAPIInfo.clientId,"&client_secret=").concat(this.state.foursquareAPIInfo.clientSecret,"&v=").concat(function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();return t<10||a<10?"".concat(n,"0").concat(a,"0").concat(t):"".concat(n).concat(a).concat(t)}(),"&limit=10&near=").concat(t,"&section=food&price=1&openNow=1")).then((function(e){if(e.ok)return e.json();throw new Error("Request failed")}),(function(e){return console.log(e.messege)})).then((function(t){e.setState({foursquareSearchResults:t.response.groups[0].items}),console.log(e.state.foursquareSearchResults)}),(function(e){console.log(e)})),this.setState({foursquareTitle:"foursquare__title foursquare__title_visible"})}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({inputSearch:"".concat(t)})}},{key:"handleSubmit",value:function(e){this.getWeather(),this.getVenue(),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("header",null,r.a.createElement("img",{src:f.a,alt:"logo"}),r.a.createElement(d,{onChange:this.handleChange,onSubmit:this.handleSubmit}),this.state.openWeatherSearchResults.map((function(e){return r.a.createElement(v,{key:e.id,searchResult:e})})),r.a.createElement("section",{className:"foursquare"},r.a.createElement("h1",{className:this.state.foursquareTitle},"VENUES"),r.a.createElement("div",{className:"foursquare__search-results"},this.state.foursquareSearchResults.map((function(e){return r.a.createElement(E,{key:e.venue.id,venueInfo:e.venue})}))))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.91807b86.chunk.js.map